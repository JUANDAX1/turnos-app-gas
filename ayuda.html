<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Usuario - Sistema de Gesti√≥n</title>
    <style>
        :root {
            --primary-color: #2E86AB;
            --secondary-color: #5DADE2;
            --background-light: #F4F6F6;
            --background-white: #FFFFFF;
            --text-dark: #34495E;
            --border-color: #D5DBDB;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-light);
            color: var(--text-dark);
            margin: 0;
            line-height: 1.6;
        }

        .container {
            display: flex;
            align-items: flex-start; /* Alinea los items al inicio para que el sidebar no se estire */
            max-width: 1400px;
            margin: 20px auto;
            background-color: var(--background-white);
            box-shadow: 0 4px 15px var(--shadow-color);
            border-radius: 12px;
            /* Se elimin√≥ 'overflow: hidden' que imped√≠a el posicionamiento sticky */
        }

        .sidebar {
            width: 280px;
            background-color: var(--primary-color);
            color: white;
            padding: 25px;
            flex-shrink: 0;
            /* --- INICIO DE LA CORRECCI√ìN --- */
            position: sticky; /* Hace que el men√∫ sea "pegajoso" */
            top: 20px; /* Se pega a 20px del borde superior, coincidiendo con el margen del contenedor */
            max-height: calc(100vh - 40px); /* Evita que sea m√°s alto que la ventana */
            overflow-y: auto; /* Permite que el propio men√∫ tenga scroll si es muy largo */
            /* --- FIN DE LA CORRECCI√ìN --- */
        }

        .sidebar h2 {
            margin-top: 0;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 15px;
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }

        .sidebar li a {
            display: block;
            color: white;
            text-decoration: none;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            transition: background-color 0.3s, transform 0.2s;
        }

        .sidebar li a:hover {
            background-color: var(--secondary-color);
            transform: translateX(5px);
        }

        .main-content {
            flex-grow: 1;
            padding: 40px;
            /* Ya no necesita su propio scroll, el body se encargar√° */
        }

        header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        header h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 2.5rem;
        }

        section {
            margin-bottom: 40px;
            scroll-margin-top: 20px;
        }

        h2.section-title {
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .card {
            background-color: #FDFEFE;
            border: 1px solid var(--border-color);
            border-left: 5px solid var(--secondary-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .card h3 {
            margin-top: 0;
            color: var(--text-dark);
        }
        
        ul.feature-list {
            list-style-type: '‚úÖ ';
            padding-left: 20px;
        }
        ul.feature-list li {
            padding-left: 10px;
            margin-bottom: 8px;
        }

        /* Estilos para el acorde√≥n interactivo */
        .accordion details {
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        .accordion summary {
            padding: 15px;
            cursor: pointer;
            background-color: #EBF5FB;
            font-weight: bold;
            color: var(--primary-color);
            outline: none;
            transition: background-color 0.3s;
        }
        .accordion summary:hover {
            background-color: #D6EAF8;
        }
        .accordion summary::marker {
            color: var(--primary-color);
        }
        .accordion .details-content {
            padding: 20px;
            border-top: 1px solid var(--border-color);
        }

        @media (max-width: 900px) {
            .container {
                flex-direction: column;
                margin: 0;
                border-radius: 0;
            }
            .sidebar {
                width: 100%;
                box-sizing: border-box;
                position: static; /* En m√≥vil, el men√∫ vuelve a su flujo normal */
                max-height: none;
            }
            .main-content {
                padding: 25px;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <aside class="sidebar">
            <h2>Navegaci√≥n</h2>
            <ul>
                <li><a href="#introduccion">Introducci√≥n</a></li>
                <li><a href="#dashboard">Dashboard</a></li>
                <li><a href="#gestion-diaria">Gesti√≥n Diaria</a></li>
                <li><a href="#administracion">Administraci√≥n</a></li>
                <li><a href="#remuneraciones">Remuneraciones</a></li>
                <li><a href="#sistema">Sistema</a></li>
                <li><a href="#capacidades">Capacidades del Sistema</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <header>
                <h1>Manual de Usuario</h1>
                <p>Gu√≠a completa del Sistema de Gesti√≥n de N√≥mina y Operaciones.</p>
            </header>

            <section id="introduccion">
                <h2 class="section-title">Bienvenido al Sistema de Gesti√≥n</h2>
                <div class="card">
                    <p>
                        Este sistema ha sido dise√±ado para centralizar y simplificar la gesti√≥n de colaboradores, el control de asistencia, el manejo de fondos, y el complejo proceso de c√°lculo de remuneraciones. Su objetivo es proporcionar una herramienta robusta, intuitiva y eficiente que permita a los administradores y asistentes llevar un control preciso de las operaciones diarias.
                    </p>
                    <p>
                        Esta gu√≠a le proporcionar√° una visi√≥n detallada de cada m√≥dulo, explicando su prop√≥sito, funcionamiento y las acciones que puede realizar en cada uno.
                    </p>
                </div>
            </section>

            <section id="dashboard">
                <h2 class="section-title">üìä Dashboard</h2>
                <div class="card">
                    <h3>Prop√≥sito</h3>
                    <p>Ofrecer una vista r√°pida y consolidada del estado actual de la empresa. Es la primera pantalla que ve al iniciar sesi√≥n y sirve como un centro de mando para monitorear las m√©tricas m√°s importantes del d√≠a y del mes en curso.</p>
                    <h3>Funcionamiento</h3>
                    <ul class="feature-list">
                        <li><strong>Tarjetas de Resumen:</strong> Muestran contadores clave en tiempo real: el n√∫mero total de colaboradores activos, cu√°ntos registros de asistencia se han hecho hoy y cu√°ntas ausencias (licencias, faltas, etc.) se han reportado en el d√≠a.</li>
                        <li><strong>Resumen de Ausencias Registradas:</strong> Una tabla din√°mica que desglosa, para cada colaborador, el total de ausencias registradas durante el mes actual, clasificadas por tipo (Libre, Licencia M√©dica, Falta Justificada, Ausente).</li>
                        <li><strong>Control de D√≠as sin Registro:</strong> Una tabla crucial que muestra los d√≠as del mes (hasta el d√≠a de ayer) en los que un colaborador no tiene NING√öN tipo de registro de asistencia. Esto ayuda a identificar omisiones en el registro y a asegurar que cada d√≠a est√© justificado.</li>
                    </ul>
                </div>
            </section>

            <section id="gestion-diaria">
                <h2 class="section-title">‚úÖ Gesti√≥n Diaria</h2>
                <div class="card">
                    <h3>Registrar Asistencia</h3>
                    <p>El coraz√≥n operativo del sistema. Permite registrar el estado diario de cada colaborador activo. La interfaz est√° dise√±ada para ser r√°pida y a prueba de errores, mostrando √∫nicamente a los colaboradores pendientes de registro para la fecha seleccionada.</p>
                </div>
                <div class="card">
                    <h3>Consultar Asistencia</h3>
                    <p>Una poderosa herramienta de b√∫squeda que permite auditar y revisar el historial de asistencia. Se puede filtrar por un rango de fechas espec√≠fico y/o por un colaborador en particular, facilitando la revisi√≥n de patrones o la b√∫squeda de un registro concreto. Los administradores tienen la capacidad de editar registros desde esta vista.</p>
                </div>
                <div class="card">
                    <h3>Fondos de Caja</h3>
                    <p>Este m√≥dulo permite un control financiero detallado de los movimientos de caja chica, anticipos y rendiciones. Cada transacci√≥n (entrada o salida) se asocia a un colaborador y un tipo de registro, creando un historial transparente. Una de sus funciones m√°s destacadas es la generaci√≥n autom√°tica de "Vales de Caja" en PDF para cada salida de dinero, los cuales pueden ser enviados por correo electr√≥nico directamente desde la aplicaci√≥n.</p>
                </div>
            </section>

            <section id="administracion">
                <h2 class="section-title">üèóÔ∏è Administraci√≥n</h2>
                <div class="card">
                    <h3>Obras y Proyectos</h3>
                    <p>Permite la gesti√≥n completa del ciclo de vida de los proyectos u obras de la empresa. Desde aqu√≠ puede crear nuevos proyectos, asignarles c√≥digos, clientes y estados (Activo, Cerrado, Programado). Tambi√©n puede editar la informaci√≥n de proyectos existentes, duplicarlos para crear nuevas etapas o eliminarlos si es necesario.</p>
                </div>
                <div class="card">
                    <h3>Registrar Colaboradores</h3>
                    <p>M√≥dulo dedicado al alta de nuevos miembros en el equipo. Se registra informaci√≥n esencial como su ID, nombre, cargo y sueldo base. Esta informaci√≥n es la base para todos los dem√°s c√°lculos y registros en el sistema.</p>
                </div>
            </section>

            <section id="remuneraciones">
                <h2 class="section-title">üí∞ Remuneraciones</h2>
                <div class="card">
                    <h3>Otros Haberes</h3>
                    <p>Un espacio flexible para registrar cualquier tipo de ingreso adicional para un colaborador que no sea parte de su sueldo base o de los bonos por proyecto. Ejemplos comunes incluyen bonos extraordinarios, comisiones o reembolsos de gastos.</p>
                </div>
                <div class="card">
                    <h3>D√≠as en Obras</h3>
                    <p>Esta secci√≥n calcula una matriz fundamental para los bonos: cuenta cu√°ntos d√≠as ha trabajado cada colaborador en cada proyecto espec√≠fico dentro de un rango de fechas. El resultado se puede guardar en la hoja de c√°lculo "Bonificaciones", que sirve como base para el siguiente paso.</p>
                </div>
                <div class="card">
                    <h3>Procesar Bonos por Obras</h3>
                    <p>Aqu√≠ es donde la inteligencia del sistema brilla. Tomando los datos de "D√≠as en Obras", esta herramienta permite asignar un monto total de bono a cada proyecto y distribuye ese monto entre los colaboradores de forma ponderada, bas√°ndose en los d√≠as trabajados y en un porcentaje de "peso" o importancia asignado a cada colaborador. Permite guardar los resultados finales en la hoja "Bonos a Pagar".</p>
                </div>
                 <div class="card">
                    <h3>Reporte Total de N√≥mina</h3>
                    <p>La culminaci√≥n del proceso de remuneraciones. Esta herramienta genera un informe maestro que consolida toda la informaci√≥n del mes: sueldo base ajustado por d√≠as trabajados, descuentos (anticipos, etc.), bonos por proyecto y otros haberes. Calcula el l√≠quido final a pagar para cada colaborador y permite exportar todo el informe a un archivo de Google Sheets limpio y profesional.</p>
                </div>
            </section>

            <section id="sistema">
                <h2 class="section-title">‚öôÔ∏è Sistema</h2>
                <div class="card">
                    <h3>Configuraci√≥n</h3>
                    <p>Esta secci√≥n es para el mantenimiento del sistema. Desde aqu√≠, un administrador puede ejecutar dos acciones cr√≠ticas:</p>
                    <ul class="feature-list">
                        <li><strong>Inicializar Sistema:</strong> Verifica que todas las hojas de c√°lculo necesarias existan y tengan el formato correcto. Si falta alguna, la crea. Es √∫til para la configuraci√≥n inicial o para reparar alg√∫n problema.</li>
                        <li><strong>Crear Respaldo:</strong> Genera una copia de seguridad completa de la hoja de c√°lculo y todo el c√≥digo asociado en una carpeta dedicada en Google Drive. Es una medida de seguridad fundamental.</li>
                    </ul>
                </div>
            </section>

            <section id="capacidades">
                <h2 class="section-title">üöÄ Listado de Capacidades del Sistema</h2>
                <div class="accordion">
                    <details>
                        <summary>Gesti√≥n de Colaboradores y Proyectos</summary>
                        <div class="details-content">
                            <ul class="feature-list">
                                <li>Registro de colaboradores con ID, nombre, cargo, sueldo base, etc.</li>
                                <li>Gesti√≥n del estado del colaborador (Activo/Inactivo).</li>
                                <li>Registro y administraci√≥n completa de proyectos/obras.</li>
                                <li>Manejo de estados de proyecto (Activo, Cerrado, Programado).</li>
                                <li>Funcionalidad para editar, eliminar y duplicar proyectos f√°cilmente.</li>
                            </ul>
                        </div>
                    </details>
                    <details>
                        <summary>Control de Asistencia y Operaciones</summary>
                        <div class="details-content">
                             <ul class="feature-list">
                                <li>Registro de asistencia diario con estados personalizables.</li>
                                <li>Asignaci√≥n de colaboradores a proyectos, obras o turnos espec√≠ficos.</li>
                                <li>Consulta y auditor√≠a del historial de asistencia con filtros avanzados.</li>
                                <li>Edici√≥n de registros de asistencia (restringido a rol de Administrador).</li>
                                <li>Dashboard con visi√≥n en tiempo real de la asistencia del d√≠a.</li>
                            </ul>
                        </div>
                    </details>
                    <details>
                        <summary>Gesti√≥n Financiera y de Caja</summary>
                        <div class="details-content">
                            <ul class="feature-list">
                                <li>Registro detallado de entradas y salidas de dinero de caja chica.</li>
                                <li>Clasificaci√≥n de movimientos por tipos (Anticipo, Rendici√≥n, Compra, etc.).</li>
                                <li>Generaci√≥n autom√°tica de "Vales de Caja" en formato Google Docs y PDF.</li>
                                <li>Env√≠o de vales por correo electr√≥nico al colaborador y administrador.</li>
                                <li>C√°lculo de saldos pendientes por colaborador.</li>
                                <li>Consulta de balance de caja con filtros y exportaci√≥n a Google Sheets.</li>
                            </ul>
                        </div>
                    </details>
                     <details>
                        <summary>C√°lculo de Remuneraciones y Bonos</summary>
                        <div class="details-content">
                            <ul class="feature-list">
                                <li>C√°lculo autom√°tico de d√≠as trabajados en proyectos.</li>
                                <li>Sistema de ponderaci√≥n de bonos por importancia del colaborador.</li>
                                <li>Distribuci√≥n proporcional de montos de bonos por proyecto.</li>
                                <li>Registro flexible de "Otros Haberes" y descuentos.</li>
                                <li>Generaci√≥n de un Informe Maestro de N√≥mina consolidado.</li>
                                <li>Exportaci√≥n del informe final a Google Sheets con formato profesional.</li>
                            </ul>
                        </div>
                    </details>
                     <details>
                        <summary>Administraci√≥n y Seguridad</summary>
                        <div class="details-content">
                            <ul class="feature-list">
                                <li>Sistema de acceso basado en roles (Administrador y Asistente).</li>
                                <li>Restricci√≥n de funcionalidades cr√≠ticas solo para Administradores.</li>
                                <li>Herramienta de inicializaci√≥n para garantizar la integridad de la base de datos (Hojas de C√°lculo).</li>
                                <li>Funcionalidad de respaldo completo del sistema con un solo clic.</li>
                                <li>Interfaz de usuario limpia, responsiva e intuitiva.</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>
        </main>
    </div>

</body>
</html>

